<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마우스 따라다니는 원</title>
    <style>
        html,
        body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            /* 전체 페이지 스크롤 방지 */
            cursor: none;
            /* 기본 커서 숨김 (원들이 커서 역할) */
        }

        #scroll-container {
            width: 100vw;
            height: 100vh;
            overflow-x: auto;
            overflow-y: hidden;
            white-space: nowrap;

            /* Firefox 스크롤바 스타일 */
            scrollbar-width: thin;
            scrollbar-color: rgba(158, 161, 161, 0.502) transparent;
        }

        #scroll-container::-webkit-scrollbar {
            height: 8px;
        }

        #scroll-container::-webkit-scrollbar-track {
            background: transparent;
        }

        #scroll-container::-webkit-scrollbar-thumb {
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 4px;
        }

        #scroll-container::-webkit-scrollbar-thumb:hover {
            background-color: rgba(255, 255, 255, 0.8);
        }

        .horizontal-wrap {
            display: inline-flex;
            width: max-content;
            height: 100%;
        }

        .page {
            width: 100vw;
            height: 100vh;
            display: inline-flex;
            justify-content: center;
            align-items: center;
            font-size: 50px;
            color: #fff;
            font-weight: bold;
            vertical-align: top;
            position: relative;
            /* 자식 요소 절대 위치 기준 */
        }

        .page1 {
            background: #ff6b6b;
        }

        .page2 {
            background: #4d96ff;
        }

        .page3 {
            background: #6bcf63;
        }

        .page4 {
            background: #ffc93c;
        }

        /* 마우스 원 스타일 */
        .cursor-circle {
            position: absolute;
            top: 0;
            left: 0;
            border-radius: 50%;
            pointer-events: none;
            /* 마우스 클릭 통과 */
            transform: translate(-50%, -50%);
            /* 중심 기준 배치 */
            z-index: 1000;
        }

        .circle-1 {
            width: 20px;
            height: 20px;
            background-color: rgba(255, 255, 255, 0.9);
            transition: width 0.2s, height 0.2s;
            /* 크기 변경 애니메이션 */
        }

        .circle-2 {
            width: 50px;
            height: 50px;
            border: 2px solid rgba(255, 255, 255, 0.5);
            transition: transform 0.1s ease-out;
            /* 약간의 지연 효과 */
        }
    </style>
</head>

<body>
    <main id="scroll-container">
        <div class="horizontal-wrap">
            <section class="page page1" id="target-area">
                Page 1 (Move Mouse Here)
                <!-- 원들이 돌아다닐 영역 -->
                <div class="cursor-circle circle-1" id="cursor-1"></div>
                <div class="cursor-circle circle-2" id="cursor-2"></div>
            </section>
            <section class="page page2">Page 2</section>
            <section class="page page3">Page 3</section>
            <section class="page page4">Page 4</section>
        </div>
    </main>

    <script>
        // --- 스크롤 로직 (기존 유지) ---
        const container = document.getElementById('scroll-container');
        let target = container.scrollLeft;
        let current = target;
        let isMoving = false;

        container.addEventListener("wheel", e => {
            e.preventDefault();
            if (!isMoving) target = current = container.scrollLeft;
            target = Math.max(0, Math.min(container.scrollWidth - container.clientWidth, target + e.deltaY));
            if (!isMoving) {
                isMoving = true;
                scrollAnimate();
            }
        }, { passive: false });

        function scrollAnimate() {
            current += (target - current) * 0.05;
            container.scrollLeft = current;
            if (Math.abs(target - current) < 0.5) {
                isMoving = false;
            } else {
                requestAnimationFrame(scrollAnimate);
            }
        }

        // --- 마우스 원 로직 (Page 1 영역 한정) ---
        const page1 = document.getElementById('target-area');
        const cursor1 = document.getElementById('cursor-1');
        const cursor2 = document.getElementById('cursor-2');

        let mouseX = 0;
        let mouseY = 0;

        // 두 번째 원의 부드러운 이동을 위한 변수 (Lerp 용)
        let cursor2X = 0;
        let cursor2Y = 0;

        // 마우스 움직임 감지 (page1 영역 내)
        page1.addEventListener('mousemove', (e) => {
            // page1 기준 상대 좌표 계산 (스크롤 영향 받지 않도록)
            const rect = page1.getBoundingClientRect();
            mouseX = e.clientX - rect.left;
            mouseY = e.clientY - rect.top;

            // 첫 번째 원은 마우스를 즉시 따라다님
            cursor1.style.left = `${mouseX}px`;
            cursor1.style.top = `${mouseY}px`;
        });

        // 애니메이션 루프 (두 번째 원의 부드러운 추격 효과)
        function cursorAnimate() {
            // Lerp 알고리즘: 현재 위치에서 목표 위치까지 거리의 10%만큼 이동
            cursor2X += (mouseX - cursor2X) * 0.1;
            cursor2Y += (mouseY - cursor2Y) * 0.1;

            cursor2.style.left = `${cursor2X}px`;
            cursor2.style.top = `${cursor2Y}px`;

            requestAnimationFrame(cursorAnimate);
        }

        cursorAnimate(); // 커서 애니메이션 시작
    </script>
</body>

</html>